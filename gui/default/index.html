<!DOCTYPE html>
<!--
// Copyright (C) 2014 The Syncthing Authors.
//
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this file,
// You can obtain one at http://mozilla.org/MPL/2.0/.

-->
<html lang="en" ng-app="syncthing" ng-controller="SyncthingController" class="ng-cloak">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" href="assets/img/favicon-{{syncthingStatus()}}.png">
  <link rel="mask-icon" href="assets/img/safari-pinned-tab.svg" color="#0882c8">

  <title ng-bind="thisDeviceName() + ' | Syncthing'"></title>
  <link href="vendor/bootstrap/css/bootstrap.css" rel="stylesheet">
  <link href="assets/font/raleway.css" rel="stylesheet">
  <link href="vendor/font-awesome/css/font-awesome.css" rel="stylesheet">
  <link href="assets/css/overrides.css" rel="stylesheet">
  <link href="assets/css/theme.css" rel="stylesheet">
  
 <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />  -->
 <!-- <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">--> 
  <style type="text/css">
 
 body{
     /* font-family: 'Open Sans', sans-serif;*/
	 color: #474747;
  }
  
  
  .h3-limited-margin
  {
  margin-top:7px;
  margin-bottom: 7px;
  }
  
.table-borderless tbody tr td,
.table-borderless tbody tr th,
.table-borderless thead tr th,
.table-borderless thead tr td,
.table-borderless tfoot tr th,
.table-borderless tfoot tr td {
    border: none;
}

.color-online rect
{
fill: #8ac982;
}

.color-offline rect
{
fill: #EF5B62;
}

.color-orange rect
{
fill: #F7A74C;
}

.color-grey rect
{
fill: #ccc ;
}

.navbar-custom {
    background-color:#fff;
    color:#000;
    border-radius:0;
}

.navbar-custom .navbar-nav > li > a {
    color:#000;
}
.navbar-custom .navbar-nav > .active > a, .navbar-nav > .active > a:hover, .navbar-nav > .active > a:focus {
    color: #000;
    background-color:transparent;
}
.navbar-custom .navbar-brand {
    color:#0891d1;
}

.progess-device
{
height:10px;
}

td.border-right
{
border-right: 1px solid #fff;
}
  
 .hidden_w_parent { display:none; }
.parent_w_hidden:hover .hidden_w_parent { display:inline; } 

.header_wo_border th
{
border-bottom: none !important;
}

div.tooltip-inner {
    max-width: 350px;
}

#devices_table td, #devices_table th
{
vertical-align:middle;
}


.syncthing_color, nav .fa
{
/*color:#0891d1;*/
}

.syncthing_color
{
color:#45A3CC;
}

button.syncthing_color, button.syncthing_color:hover
{
border-color: #0891d1;
/*color:#0891d1;*/
}

button.syncthing_color:hover,button.syncthing_color:active
{
border-color: #0891d1;
background-color:#0891d1;
color: #fff;
}

#devices_table_wrapper, button
{
border-radius: 3px !important;
}


  
</style>
</head>

<body>
  <script src="syncthing/development/logbar.js"></script>
  <div ng-if="version.isDevelopmentVersion" ng-include="'syncthing/development/logbar.html'"></div>
  <!-- Top bar -->

  <nav class="navbar navbar-top navbar-custom small" role="navigation">
    <div class="container">
      <span class="navbar-brand" aria-hidden="true">
        <img class="logo hidden-xs" src="assets/img/logo-horizontal.svg" height="32" width="117"/>
        <img class="logo hidden visible-xs" src="assets/img/favicon-default.png" height="32"/>
      </span>
      <p class="navbar-text hidden-xs" ng-class="{'hidden-sm':upgradeInfo && upgradeInfo.newer}">{{thisDeviceName()}}</p>
	  <p class="navbar-text hidden-xs"></p>
      <p class="navbar-text hidden-xs" tooltip data-placement="bottom" data-original-title="<span translate>Download Rate</span><br><span translate>Transferred</span>: {{connectionsTotal.inBytesTotal | binary}}B"><span class="fa fa-fw fa-cloud-download "></span>&nbsp;{{connectionsTotal.inbps | binary}}B/s </p>
	  <p class="navbar-text hidden-xs" tooltip data-placement="bottom" data-original-title="<span translate>Upload Rate</span><br><span translate>Transferred:</span> {{connectionsTotal.outBytesTotal | binary}}B"><span class="fa fa-fw fa-cloud-upload "></span>&nbsp;{{connectionsTotal.outbps | binary}}B/s </p>
	  <p class="navbar-text hidden-xs" tooltip data-placement="bottom" data-original-title="<span translate>RAM Utilization</span>"><span class="fa fa-fw fa-th "></span>&nbsp;{{system.sys | binary}}B</p>
	  <p class="navbar-text hidden-xs" tooltip data-placement="bottom" data-original-title="<span translate>CPU Utilization</span>"><span class="fa fa-fw fa-tachometer "></span>&nbsp;{{system.cpuPercent | alwaysNumber | natural:1}}%</p>
	  <p class="navbar-text hidden-xs" ng-if="system.discoveryEnabled" tooltip data-placement="bottom" data-original-title="<span translate>Discovery</span>"><span class="fa fa-fw fa-map-signs "></span>&nbsp;                      <span ng-if="discoveryFailed.length == 0" class="data text-success">
                        <span>{{discoveryTotal}}/{{discoveryTotal}}</span>
                      </span>
                      <span ng-if="discoveryFailed.length != 0" class="data" ng-class="{'text-danger': discoveryFailed.length == discoveryTotal}">
                        <span popover data-trigger="hover" data-placement="bottom" data-html="true" data-content="{{discoveryFailed.join('<br>\n')}}">
                          {{discoveryTotal-discoveryFailed.length}}/{{discoveryTotal}}
                        </span>
                      </span></p>

	  <ul class="nav navbar-nav navbar-right">
        <li ng-if="upgradeInfo && upgradeInfo.newer" class="upgrade-newer">
          <button type="button" class="btn navbar-btn btn-primary btn-sm" ng-click="upgrade()">
            <span class="fa fa-arrow-circle-up"></span>
            <span class="hidden-xs" translate translate-value-version="{{upgradeInfo.latest}}">Upgrade To {%version%}</span>
          </button>
        </li>
        <li ng-if="upgradeInfo && upgradeInfo.majorNewer" class="upgrade-newer-major">
          <button type="button" class="btn navbar-btn btn-danger btn-sm" data-toggle="modal" data-target="#majorUpgrade">
            <span class="fa fa-arrow-circle-up"></span>
            <span class="hidden-xs" translate translate-value-version="{{upgradeInfo.latest}}">Upgrade To {%version%}</span>
          </button>
        </li>
        <li class="dropdown" language-select></li>
        <li>
          <a class="navbar-link" href="https://docs.syncthing.net/intro/gui.html" target="_blank">
            <span class="fa fa-question-circle "></span>
            <span class="hidden-xs" translate>Help</span>
          </a>
        </li>
        <li class="dropdown action-menu">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
            <span class="fa fa-cog "></span>
            <span class="hidden-xs" translate>Actions</span>
            <span class="caret"></span>
          </a>
          <ul class="dropdown-menu">
            <li><a href="" ng-click="editSettings()"><span class="fa fa-fw fa-cog"></span>&nbsp;<span translate>Settings</span></a></li>
            <li><a href="" data-toggle="modal" data-target="#idqr" ng-click="currentDevice=thisDevice()"><span class="fa fa-fw fa-qrcode"></span>&nbsp;<span translate>Show ID</span></a></li>
            <li class="divider" aria-hidden="true"></li>
            <li><a href="" ng-click="shutdown()"><span class="fa fa-fw fa-power-off"></span>&nbsp;<span translate>Shutdown</span></a></li>
            <li><a href="" ng-click="restart()"><span class="fa fa-fw fa-refresh"></span>&nbsp;<span translate>Restart</span></a></li>
            <li class="divider" aria-hidden="true"></li>
            <li class="visible-xs">
              <a href="https://docs.syncthing.net/intro/gui.html" target="_blank">
                <span class="fa fa-fw fa-book"></span>&nbsp;<span translate>Help</span>
              </a>
            </li>
            <li><a href="" data-toggle="modal" data-target="#about"><span class="fa fa-fw fa-heart-o"></span>&nbsp;<span translate>About</span></a></li>
            <li class="divider" aria-hidden="true"></li>
            <li><a href="" onclick="javascript:$( '#wrapper_mod' ).toggle();$( '#wrapper_original' ).toggle();;"><span class="fa fa-fw fa-desktop"></span>&nbsp;<span translate>Switch Interface</span></a></li>

			<li class="divider" aria-hidden="true"></li>
            <li><a href="" ng-click="advanced()"><span class="fa fa-fw fa-cogs"></span>&nbsp;<span translate>Advanced</span></a></li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container" id="content">

    <!-- Panel: Open, no auth -->

    <div ng-if="openNoAuth" class="row">
      <div class="col-sm-12">
        <div class="panel panel-danger">
          <div class="panel-heading">
            <h3 class="panel-title">
              <div class="panel-icon">
                <span class="fa fa-exclamation-circle"></span>
              </div>
              <span translate>Danger!</span>
            </h3>
          </div>
          <div class="panel-body">
            <p>
            <span translate>The Syncthing admin interface is configured to allow remote access without a password.</span>
            <b><span translate>This can easily give hackers access to read and change any files on your computer.</span></b>
            <span translate>Please set a GUI Authentication User and Password in the Settings dialog.</span>
            </p>
          </div>
          <div class="panel-footer">
            <button type="button" class="btn btn-sm btn-default pull-right" ng-click="editSettings()">
              <span class="fa fa-cog"></span>&nbsp;<span translate>Settings</span>
            </button>
            <div class="clearfix"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Panel: Restart Needed -->

    <div ng-if="!configInSync" class="row">
      <div class="col-sm-12">
        <div class="panel panel-warning">
          <div class="panel-heading">
            <h3 class="panel-title">
              <div class="panel-icon">
                <span class="fa fa-exclamation-circle"></span>
              </div>
              <span translate>Restart Needed</span>
            </h3>
          </div>
          <div class="panel-body">
            <p translate>The configuration has been saved but not activated. Syncthing must restart to activate the new configuration.</p>
          </div>
          <div class="panel-footer">
            <button type="button" class="btn btn-sm btn-default pull-right" ng-click="restart()">
              <span class="fa fa-refresh"></span>&nbsp;<span translate>Restart</span>
            </button>
            <div class="clearfix"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Panel: New Device -->

    <div ng-repeat="(device, event) in deviceRejections" class="row">
      <div class="col-sm-12">
        <div class="panel panel-warning">
          <div class="panel-heading">
            <h3 class="panel-title">
              <identicon class="panel-icon" data-value="device"></identicon>
              <span translate>New Device</span>
              <span class="pull-right">{{ event.time | date:"yyyy-MM-dd HH:mm:ss" }}</span>
            </h3>
          </div>
          <div class="panel-body">
            <p>
              <span translate translate-value-device="{{ device }}" translate-value-address="{{ event.data.address }}" translate-value-name="{{ event.data.name }}">
                Device "{%name%}" ({%device%} at {%address%}) wants to connect. Add new device?
              </span>
            </p>
          </div>
          <div class="panel-footer clearfix">
            <div class="pull-right">
              <button type="button" class="btn btn-sm btn-success" ng-click="addDevice(device, event.data.name)">
                <span class="fa fa-plus"></span>&nbsp;<span translate>Add Device</span>
              </button>
              <button type="button" class="btn btn-sm btn-danger" ng-click="ignoreRejectedDevice(device)">
                <span class="fa fa-times"></span>&nbsp;<span translate>Ignore</span>
              </button>
              <button type="button" class="btn btn-sm btn-default" ng-click="dismissDeviceRejection(device)">
                <span class="fa fa-clock-o"></span>&nbsp;<span translate>Later</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Panel: New Folder -->

    <div ng-repeat="(key, event) in folderRejections" class="row reject">
      <div class="col-sm-12">
        <div class="panel panel-warning">
          <div class="panel-heading">
            <h3 class="panel-title">
              <div class="panel-icon">
                <span class="fa fa-folder"></span>
              </div>
              <span translate ng-if="!folders[event.data.folder]">New Folder</span>
              <span translate ng-if="folders[event.data.folder]">Share Folder</span>
              <span class="pull-right">{{ event.time | date:"yyyy-MM-dd HH:mm:ss" }}</span>
            </h3>
          </div>
          <div class="panel-body">
            <p>
              <span ng-if="event.data.folderLabel.length == 0" translate translate-value-device="{{ deviceName(findDevice(event.data.device)) }}" translate-value-folder="{{ event.data.folder }}">
                {%device%} wants to share folder "{%folder%}".
              </span>
              <span ng-if="event.data.folderLabel.length != 0" translate translate-value-device="{{ deviceName(findDevice(event.data.device)) }}" translate-value-folder="{{ event.data.folder }}" translate-value-folderlabel="{{ event.data.folderLabel }}">
                {%device%} wants to share folder "{%folderlabel%}" ({%folder%}).
              </span>
              <span translate ng-if="folders[event.data.folder]">Share this folder?</span>
              <span translate ng-if="!folders[event.data.folder]">Add new folder?</span>
            </p>
          </div>
          <div class="panel-footer clearfix">
            <div class="pull-right">
              <button type="button" class="btn btn-sm btn-success" ng-click="addFolderAndShare(event.data.folder, event.data.folderLabel, event.data.device)" ng-if="!folders[event.data.folder]">
                <span class="fa fa-check"></span>&nbsp;<span translate>Add</span>
              </button>
              <button type="button" class="btn btn-sm btn-success" ng-click="shareFolderWithDevice(event.data.folder, event.data.device)" ng-if="folders[event.data.folder]">
                <span class="fa fa-check"></span>&nbsp;<span translate>Share</span>
              </button>
              <button type="button" class="btn btn-sm btn-default" ng-click="dismissFolderRejection(event.data.folder, event.data.device)">
                <span class="fa fa-clock-o"></span>&nbsp;<span translate>Later</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Panel: Notice -->

    <div ng-if="errorList().length > 0" class="row">
      <div class="col-sm-12">
        <div class="panel panel-warning">
          <div class="panel-heading">
            <h3 class="panel-title">
              <div class="panel-icon">
                <span class="fa fa-exclamation-circle"></span>
              </div>
              <span translate>Notice</span>
            </h3>
          </div>
          <div class="panel-body">
            <p ng-repeat="err in errorList()">
              <small>{{err.when | date:"yyyy-MM-dd HH:mm:ss"}}:</small>
              <span ng-bind-html="friendlyDevices(err.message) | linky: '_blank'"></span>
            </p>
          </div>
          <div class="panel-footer">
            <button type="button" class="btn btn-sm btn-default pull-right" ng-click="clearErrors()">
              <span class="fa fa-check"></span>&nbsp;<span translate>OK</span>
            </button>
            <div class="clearfix"></div>
          </div>
        </div>
      </div>
    </div>

    <div ng-if="config && config.options && config.options.unackedNotificationIDs" ng-include="'syncthing/core/notifications.html'"></div>

	<div id="wrapper_mod">
	<!-- own mod -->
	
	<div class="row">
	
		<div class="col-sm-3">
		<!-- Geräte-->
		
		<table class="table table-borderless">
			<tr ng-repeat="deviceCfg in otherDevices()">
				<td>
				<div class="row parent_w_hidden">
					<div class="col-sm-10">
								<div class="row">
									<div class="col-sm-12">
											  <!--<div class="panel-progress" ng-show="deviceStatus(deviceCfg) == 'syncing'" ng-attr-style="width: {{completion[deviceCfg.deviceID]._total | number:0}}%"></div>-->

												<span ng-switch="deviceStatus(deviceCfg)" class="text-{{deviceClass(deviceCfg)}}">
													  <span ng-switch-when="insync"><identicon class="panel-icon h4 color-online"  data-value="deviceCfg.deviceID"></identicon></span>
													  <span ng-switch-when="syncing">
														<identicon class="panel-icon h4 color-orange"  data-value="deviceCfg.deviceID"></identicon>
													  </span>
													  <span ng-switch-when="paused"><identicon class="panel-icon h4 color-grey"  data-value="deviceCfg.deviceID"></identicon></span>
													  <span ng-switch-when="disconnected"><identicon class="panel-icon h4 color-offline"  data-value="deviceCfg.deviceID"></identicon></span>
													  <span ng-switch-when="unused"><identicon class="panel-icon h4 color-grey"  data-value="deviceCfg.deviceID"></identicon></span>
												</span>						  
											  
											  
												<span ng-switch="deviceStatus(deviceCfg)" class="pull-right text-{{deviceClass(deviceCfg)}}">
												  <!--
												  <span ng-switch-when="insync"><span class="hidden-xs" translate>Up to Date</span><span class="visible-xs">&#9724;</span></span>
												  <span ng-switch-when="syncing">
													<span class="hidden-xs" translate>Syncing</span> ({{completion[deviceCfg.deviceID]._total | number:0}}%)
												  </span>
												  <span ng-switch-when="paused"><span class="hidden-xs" translate>Paused</span><span class="visible-xs">&#9724;</span></span>
												  <span ng-switch-when="disconnected"><span class="hidden-xs" translate>Disconnected</span><span class="visible-xs">&#9724;</span></span>
												  <span ng-switch-when="unused"><span class="hidden-xs" translate>Unused</span><span class="visible-xs">&#9724;</span></span>
												 -->
												</span>
											

											<span popover data-trigger="hover" data-placement="right" data-html="true" onmouseover="javascript: function getDeviceInfo(element) { return $(element).next('.expandable-device-info').html();} $(this).attr('data-content', getDeviceInfo(this)   );" data-content="Device Info" >{{deviceName(deviceCfg)}}</span>	
											
								<div id="device-{{$index}}" class="hide expandable-device-info">
								  <!--<div class="panel-body">-->
									<table class="table table-condensed table-striped" style="width:300px;">
									  <tbody>
										<tr ng-if="connections[deviceCfg.deviceID].connected">
										  <th><span class="fa fa-fw fa-cloud-download"></span>&nbsp;<span translate>Download Rate</span></th>
										  <td class="text-right">{{connections[deviceCfg.deviceID].inbps | binary}}B/s ({{connections[deviceCfg.deviceID].inBytesTotal | binary}}B)</td>
										</tr>
										<tr ng-if="connections[deviceCfg.deviceID].connected">
										  <th><span class="fa fa-fw fa-cloud-upload"></span>&nbsp;<span translate>Upload Rate</span></th>
										  <td class="text-right">{{connections[deviceCfg.deviceID].outbps | binary}}B/s ({{connections[deviceCfg.deviceID].outBytesTotal | binary}}B)</td>
										</tr>
										<tr>
										  <th><span class="fa fa-fw fa-link"></span>&nbsp<span translate>Address</span></th>
										  <td ng-if="connections[deviceCfg.deviceID].connected" class="text-right">
											<span tooltip data-original-title="{{ connections[deviceCfg.deviceID].type.indexOf('Relay') > -1 ? '' : connections[deviceCfg.deviceID].type }}">
											  {{deviceAddr(deviceCfg)}}
											</span>
										  </td>
										  <td ng-if="!connections[deviceCfg.deviceID].connected" class="text-right">
											<span ng-repeat="addr in deviceCfg.addresses"><span tooltip data-original-title="{{'Configured' | translate}}">{{addr}}</span><br></span>
											<span ng-repeat="addr in discoveryCache[deviceCfg.deviceID].addresses"><span tooltip data-original-title="{{'Discovered' | translate}}">{{addr}}</span><br></span>
										  </td>
										</tr>
										<tr ng-if="connections[deviceCfg.deviceID].connected && connections[deviceCfg.deviceID].type.indexOf('Relay') > -1" tooltip data-original-title="Connections via relays might be rate limited by the relay">
										  <th><span class="fa fa-fw fa-warning text-danger"></span>&nbsp;<span translate>Connection Type</span></th>
										  <td class="text-right">{{connections[deviceCfg.deviceID].type}}</td>
										</tr>
										<tr ng-if="deviceCfg.compression != 'metadata'">
										  <th><span class="fa fa-fw fa-compress"></span>&nbsp;<span translate>Compression</span></th>
										  <td class="text-right">
											<span ng-if="deviceCfg.compression == 'always'" translate>All Data</span>
											<span ng-if="deviceCfg.compression == 'never'" translate>Off</span>
										  </td>
										</tr>
										<tr ng-if="deviceCfg.introducer">
										  <th><span class="fa fa-fw fa-thumbs-o-up"></span>&nbsp;<span translate>Introducer</span></th>
										  <td translate class="text-right">Yes</td>
										</tr>
										<tr ng-if="deviceCfg.introducedBy">
										  <th><span class="fa fa-fw fa-meh-o"></span>&nbsp;<span translate>Introduced By</span></th>
										  <td class="text-right">{{ deviceName(findDevice(deviceCfg.introducedBy)) || deviceCfg.introducedBy.substring(0, 5) }}</td>
										</tr>
										<tr ng-if="connections[deviceCfg.deviceID].clientVersion">
										  <th><span class="fa fa-fw fa-tag"></span>&nbsp;<span translate>Version</span></th>
										  <td class="text-right">{{connections[deviceCfg.deviceID].clientVersion}}</td>
										</tr>
										<tr ng-if="!connections[deviceCfg.deviceID].connected">
										  <th><span class="fa fa-fw fa-eye"></span>&nbsp;<span translate>Last seen</span></th>
										  <td translate ng-if="!deviceStats[deviceCfg.deviceID].lastSeenDays || deviceStats[deviceCfg.deviceID].lastSeenDays >= 365" class="text-right">Never</td>
										  <td ng-if="deviceStats[deviceCfg.deviceID].lastSeenDays < 365" class="text-right">{{deviceStats[deviceCfg.deviceID].lastSeen | date:"yyyy-MM-dd HH:mm:ss"}}</td>
										</tr>
										<tr ng-if="deviceFolders(deviceCfg).length > 0">
										  <th><span class="fa fa-fw fa-folder"></span>&nbsp;<span translate>Folders</span></th>
										  <td class="text-right">{{deviceFolders(deviceCfg).map(folderLabel).join(", ")}}</td>
										</tr>
									  </tbody>
									</table>
								  <!--</div>-->
								  <!--
								  <div class="panel-footer">
									<span class="pull-right">
									  <button ng-if="!deviceCfg.paused" type="button" class="btn btn-sm btn-default" ng-click="setDevicePause(deviceCfg.deviceID, true)">
										<span class="fa fa-pause"></span>&nbsp;<span translate>Pause</span>
									  </button>
									  <button ng-if="deviceCfg.paused" type="button" class="btn btn-sm btn-default" ng-click="setDevicePause(deviceCfg.deviceID, false)">
										<span class="fa fa-play"></span>&nbsp;<span translate>Resume</span>
									  </button>
									  <button type="button" class="btn btn-sm btn-default" ng-click="editDevice(deviceCfg)">
										<span class="fa fa-pencil"></span>&nbsp;<span translate>Edit</span>
									  </button>
									</span>
									<div class="clearfix"></div>
								  </div>
								  -->
								</div>							

							<!-- end of collapsed device details-->														
											
									</div> <!--end col-sm-12 device-->
								</div>	 <!-- end row device-->
								<div class="row small text-muted">

								
									<span ng-switch="deviceStatus(deviceCfg)" class="">
									  <span ng-switch-when="insync">
										<div class="col-sm-6" tooltip data-original-title="<span translate>Download Rate</span><br><span translate>Transferred</span>:{{connections[deviceCfg.deviceID].inBytesTotal | binary}}B"><span class="fa fa-fw fa-cloud-download syncthing_color"></span>&nbsp;{{connections[deviceCfg.deviceID].inbps | binary}}B/s</div>
										<div class="col-sm-6" tooltip data-original-title="<span translate>Upload Rate</span><br><span translate>Transferred</span>:{{connections[deviceCfg.deviceID].outBytesTotal | binary}}B"><span class="fa fa-fw fa-cloud-upload syncthing_color"></span>&nbsp;{{connections[deviceCfg.deviceID].outbps | binary}}B/s</div>
										  
									  </span>
									  <span ng-switch-when="syncing">
										<div class="col-sm-6" tooltip data-original-title="<span translate>Download Rate</span><br><span translate>Transferred</span>:{{connections[deviceCfg.deviceID].inBytesTotal | binary}}B"><span class="fa fa-fw fa-cloud-download syncthing_color"></span>&nbsp;{{connections[deviceCfg.deviceID].inbps | binary}}B/s</div>
										<div class="col-sm-6" tooltip data-original-title="<span translate>Upload Rate</span><br><span translate>Transferred</span>:{{connections[deviceCfg.deviceID].outBytesTotal | binary}}B"><span class="fa fa-fw fa-cloud-upload syncthing_color"></span>&nbsp;{{connections[deviceCfg.deviceID].outbps | binary}}B/s</div>
									  </span>
									  <span ng-switch-when="disconnected">
										<div class="col-sm-12" tooltip data-placement="bottom" data-original-title="<span translate>Last seen</span>" >
											<span class="fa fa-fw fa-eye syncthing_color"></span>&nbsp;
										  <span translate ng-if="!deviceStats[deviceCfg.deviceID].lastSeenDays || deviceStats[deviceCfg.deviceID].lastSeenDays >= 365" class="text-right">Never</span>
										  <span ng-if="deviceStats[deviceCfg.deviceID].lastSeenDays < 365" class="text-right">{{deviceStats[deviceCfg.deviceID].lastSeen | date:"yyyy-MM-dd HH:mm:ss"}}</span>
										</div>
									  </span>

									  <span ng-switch-when="paused">
										<div class="col-sm-12">
											<span class="fa fa-fw fa-pause"></span>&nbsp;Paused
										</div>
									  </span>										  

										  <span ng-switch-when="unused">
											<div class="col-sm-12">
												<span class="fa fa-fw fa-question-circle"></span>&nbsp;Unused
											</div>
										  </span>
										  
									</span>	
								</div>					


								
					</div> <!--end details fields-->
					
					<div class="col-sm-2 " style="min-height:52px;;">
									<span class="pull-right hidden_w_parent">
									  <button ng-if="!deviceCfg.paused" type="button" class="btn btn-xs btn-default syncthing_color" ng-click="setDevicePause(deviceCfg.deviceID, true)">
										<span class="fa fa-pause"></span><!--&nbsp;<span translate>Pause</span>-->
									  </button>
									  <button ng-if="deviceCfg.paused" type="button" class="btn btn-xs btn-default syncthing_color" ng-click="setDevicePause(deviceCfg.deviceID, false)">
										<span class="fa fa-play"></span><!--&nbsp;<span translate>Resume</span>-->
									  </button>
									  <button type="button" class="btn btn-xs btn-default syncthing_color" ng-click="editDevice(deviceCfg)">
										<span class="fa fa-pencil"></span><!--&nbsp;<span translate>Edit</span>-->
									  </button>
									</span>
									<div class="clearfix"></div>					
					</div><!--end buttons fields-->
					
							<!-- collapsed device details-->

		

				</div><!--end device row-->
		
					<!--
                    <tr ng-if="connections[deviceCfg.deviceID].connected">
                      <th><span class="fa fa-fw fa-cloud-download"></span>&nbsp;<span translate>Download Rate</span></th>
                      <td class="text-right">{{connections[deviceCfg.deviceID].inbps | binary}}B/s ({{connections[deviceCfg.deviceID].inBytesTotal | binary}}B)</td>
                    </tr>
                    <tr ng-if="connections[deviceCfg.deviceID].connected">
                      <th><span class="fa fa-fw fa-cloud-upload"></span>&nbsp;<span translate>Upload Rate</span></th>
                      <td class="text-right">{{connections[deviceCfg.deviceID].outbps | binary}}B/s ({{connections[deviceCfg.deviceID].outBytesTotal | binary}}B)</td>
                    </tr>
					-->
					<!--
					<tr>
						<td>
						-->
							<div class="progress progess-device" ng-show="deviceStatus(deviceCfg) == 'syncing'">
							  <div class="progress-bar" role="progressbar" aria-valuenow="{{completion[deviceCfg.deviceID]._total | number:0}}" aria-valuemin="0" aria-valuemax="100" style="width: {{completion[deviceCfg.deviceID]._total | number:0}}%;">
								<!--{{completion[deviceCfg.deviceID]._total | number:0}}%-->
							  </div>
							</div>
						<!--</td></tr>	-->					
				</td>
			</tr>
			<tr>
				<td>            <button type="button" class="btn btn-sm btn-default form-control  syncthing_color" ng-click="addDevice()">
              <span class="fa fa-plus"></span>&nbsp;<span translate>Add Remote Device</span>
            </button></td>
			</tr>
		</table>

		<!-- ende Geräte-->
		</div>
		
	
		
		<div class="col-sm-9">
			<div class="panel panel-default" id="devices_table_wrapper">
				<table class="table table-striped" id="devices_table">
					<thead>
						<tr class="header_wo_border">
							<th class="col-sm-3" style="padding-left:20px;"><span translate>Folder</span></th>
							<th class="col-sm-2 hidden-xs"><span translate>Size</span></th>
							<th class="col-sm-1 text-center"><span translate>Status</span></th>
							<th class="col-sm-1 hidden-xs"></th>
							<th class="col-sm-3 hidden-xs"><span translate>Devices</span></th>
							<th class="col-sm-2"><span translate>Actions</span></th>
						</tr>
					</thead>
						<tr ng-repeat="folder in folderList()">
							<td style="padding-left:20px;"><span class="fa fa-fw fa-folder syncthing_color"></span>&nbsp; {{folder.label}}<span ng-show="folder.label.length == 0">{{folder.id}}</span></td>
							<td class=" hidden-xs">
								<!-- Size -->
									<span tooltip  data-original-title="<table><tr><td class='border-right'><span translate>Global State</span></td><td><span translate>Local State</span></td></tr><tr><td class='border-right'>{{model[folder.id].globalFiles | alwaysNumber}} {{'files' | translate}}<br> {{model[folder.id].globalDirectories | alwaysNumber}} {{'directories' | translate}}<br> ~{{model[folder.id].globalBytes | binary}}B</td><td>{{model[folder.id].localFiles | alwaysNumber}} {{'files' | translate}}<br> {{model[folder.id].localDirectories | alwaysNumber}} {{'directories' | translate}}<br> ~{{model[folder.id].localBytes | binary}}B</td></tr></table>">
									  {{model[folder.id].globalBytes | binary}}B
			<!--						 
									 <br>
									  <span tooltip data-original-title="{{model[folder.id].localFiles | alwaysNumber}} {{'files' | translate}}, {{model[folder.id].localDirectories | alwaysNumber}} {{'directories' | translate}}, ~{{model[folder.id].localBytes | binary}}B">
									  <span class="small">{{model[folder.id].localBytes | binary}}B </span>
									</span>	
			-->						
										
							</td>
							<td>
							<!-- status -->
								<div class="panel-status h3 h3-limited-margin text-center  text-{{folderClass(folder)}}" ng-switch="folderStatus(folder)">
								  <span ng-switch-when="paused" tooltip data-original-title="Paused" class="text-muted"><i class="fa fa-pause-circle-o" aria-hidden="true"></i><!--<span class="hidden-xs" translate>Paused</span>--><span class="visible-xs">&#9724;</span></span>
								  <span ng-switch-when="unknown" tooltip data-original-title="Unknown"><i class="fa fa-question-circle" aria-hidden="true"></i><!--<span class="hidden-xs" translate>Unknown</span>--><span class="visible-xs">&#9724;</span></span>
								  <span ng-switch-when="unshared" tooltip data-original-title="Unshared"><i class="fa fa-question-circle" aria-hidden="true"></i><!--<span class="hidden-xs" translate>Unshared</span>--><span class="visible-xs">&#9724;</span></span>
								  <span ng-switch-when="stopped" tooltip data-original-title="Stopped"><i class="fa fa-exclamation-circle " aria-hidden="true"></i><!--<span class="hidden-xs" translate>Stopped</span>--><span class="visible-xs">&#9724;</span></span>
								  <span ng-switch-when="scanning" tooltip data-original-title="Scanning">
									<i class="fa fa-spinner fa-pulse" aria-hidden="true"></i>
									<!--<span class="hidden-xs" translate>Scanning</span>-->
									<span class="hidden-xs small" ng-if="scanPercentage(folder.id) != undefined">
									  <br>{{scanPercentage(folder.id)}}%
									</span>
									<span class="visible-xs">&#9724;</span>
								  </span>
								  <span ng-switch-when="idle" tooltip data-original-title="Up to date"><i class="fa fa-check-circle" aria-hidden="true"></i><!--<span class="hidden-xs" translate>Up to Date</span>--><span class="visible-xs">&#9724;</span></span>
								  <span ng-switch-when="syncing" tooltip data-original-title="Syncing">
									<i class="fa fa-refresh  fa-pulse" aria-hidden="true"></i>
									<!--<span class="hidden-xs" translate>Syncing</span>-->
										<span class="hidden-xs small">
											<br>{{syncPercentage(folder.id)}}%
										</span>	
								  </span>
								  <span ng-switch-when="outofsync" tooltip data-original-title="Out of Sync"><i class="fa fa-times-circle" aria-hidden="true"></i><!--<span class="hidden-xs" translate>Out of Sync</span>--><span class="visible-xs">&#9724;</span></span>
								</div>							
							
							</td>
							<td class=" hidden-xs"></td>
							<td class=" hidden-xs"><!--{{sharesFolder(folder)}}-->
								<span ng-repeat="device in folder.devices"><!--{{folder.devices}}{{device}}-->
									  <span ng-if="deviceName(findDevice(device.deviceID)) != thisDeviceName()" >
										<identicon class="panel-icon"  ng-class="{ 'color-online'   : deviceStatus(findDevice(device.deviceID)) == 'insync','color-offline'   : deviceStatus(findDevice(device.deviceID)) == 'disconnected', 'color-orange' : deviceStatus(findDevice(device.deviceID)) == 'syncing','color-grey' : deviceStatus(findDevice(device.deviceID)) == 'paused','color-grey' : deviceStatus(findDevice(device.deviceID)) =='unused'}" data-value="device.deviceID"  tooltip data-original-title="{{deviceName(findDevice(device.deviceID))}}"></identicon>
									  </span>
								</span>
									
								</span>
							</td>
							<td>
							<!-- action buttons -->
								<button type="button" class="btn btn-sm btn-danger pull-left" ng-click="override(folder.id)" ng-if="folderStatus(folder) == 'outofsync' && folder.type == 'readonly'">
								  <span class="fa fa-arrow-circle-up"></span>&nbsp;<span translate>Override Changes</span>
								</button>
								<span class="<!--pull-right-->">
								  <button ng-if="!folder.paused" type="button" class="btn btn-sm btn-default syncthing_color" ng-click="setFolderPause(folder.id, true)" tooltip data-original-title="Pause">
									<span class="fa fa-pause"></span><!--&nbsp;<span translate>Pause</span>-->
								  </button>
								  <button ng-if="folder.paused" type="button" class="btn btn-sm btn-default syncthing_color" ng-click="setFolderPause(folder.id, false)" tooltip data-original-title="Start">
									<span class="fa fa-play"></span><!--&nbsp;<span translate>Resume</span>-->
								  </button>
								  <button type="button" class="btn btn-sm btn-default syncthing_color" ng-click="rescanFolder(folder.id)" ng-show="['idle', 'stopped', 'unshared'].indexOf(folderStatus(folder)) > -1" tooltip data-original-title="Rescan">
									<span class="fa fa-refresh"></span><!--&nbsp;<span translate>Rescan</span>-->
								  </button>
								  <button type="button" class="btn btn-sm btn-default syncthing_color" disabled="disabled"  ng-show="['scanning'].indexOf(folderStatus(folder)) > -1">
									<span class="fa fa-refresh"></span><!--&nbsp;<span translate>Rescan</span>-->
								  </button>
								  <button type="button" class="btn btn-sm btn-default syncthing_color" ng-click="editFolder(folder)" tooltip data-original-title="Settings">
									<span class="fa fa-pencil"></span><!--&nbsp;<span translate>Edit</span>-->
								  </button>
								</span>
								<div class="clearfix"></div>							
							
							</td>
						</tr>
				</table>
			</div>	
				<span class="pull-right">
		  <button type="button" class="btn btn-sm btn-default syncthing_color" ng-click="globalChanges()">
              <span class="fa fa-fw fa-history"></span>&nbsp;<span translate>Global Changes</span>
            </button>
				<button type="button" class="btn btn-sm btn-default syncthing_color" ng-click="rescanAllFolders()">
					<span class="fa fa-refresh"></span>&nbsp;<span translate>Rescan All</span>
				  </button>
				  <button type="button" class="btn btn-sm btn-default syncthing_color" ng-click="addFolder()">
					<span class="fa fa-plus"></span>&nbsp;<span translate>Add Folder</span>
				  </button>
				</span>
				<div class="clearfix"></div>		
		</div>
	
	</div>
	
	<!-- end mod -->
	</div>
		<div id="wrapper_original" style="display:none;">
    <!-- First regular row -->

    <div class="row">

      <!-- Folder list (top left) -->

      <div class="col-sm-6" aria-labelledby="folder_list" role="region" >
        <h3 id="folder_list" translate>Folders</h3>
        <div class="panel-group" id="folders">
          <div class="panel panel-default" ng-repeat="folder in folderList()">
            <button class="btn panel-heading" data-toggle="collapse" data-parent="#folders" data-target="#folder-{{$index}}" aria-expanded="false">
              <div class="panel-progress" ng-show="folderStatus(folder) == 'syncing'" ng-attr-style="width: {{syncPercentage(folder.id)}}%"></div>
              <div class="panel-progress" ng-show="folderStatus(folder) == 'scanning' && scanProgress[folder.id] != undefined" ng-attr-style="width: {{scanPercentage(folder.id)}}%"></div>
              <h4 class="panel-title">
                <div class="panel-icon hidden-xs">
                  <span class="fa fa-fw" ng-class="[folder.type == 'readonly' ? 'fa-lock' : 'fa-folder']"></span>
                </div>
                <div class="panel-status pull-right text-{{folderClass(folder)}}" ng-switch="folderStatus(folder)">
                  <span ng-switch-when="paused"><span class="hidden-xs" translate>Paused</span><span class="visible-xs">&#9724;</span></span>
                  <span ng-switch-when="unknown"><span class="hidden-xs" translate>Unknown</span><span class="visible-xs">&#9724;</span></span>
                  <span ng-switch-when="unshared"><span class="hidden-xs" translate>Unshared</span><span class="visible-xs">&#9724;</span></span>
                  <span ng-switch-when="stopped"><span class="hidden-xs" translate>Stopped</span><span class="visible-xs">&#9724;</span></span>
                  <span ng-switch-when="scanning">
                    <span class="hidden-xs" translate>Scanning</span>
                    <span class="hidden-xs" ng-if="scanPercentage(folder.id) != undefined">
                      ({{scanPercentage(folder.id)}}%)
                    </span>
                    <span class="visible-xs">&#9724;</span>
                  </span>
                  <span ng-switch-when="idle"><span class="hidden-xs" translate>Up to Date</span><span class="visible-xs">&#9724;</span></span>
                  <span ng-switch-when="syncing">
                    <span class="hidden-xs" translate>Syncing</span>
                    ({{syncPercentage(folder.id)}}%)
                  </span>
                  <span ng-switch-when="outofsync"><span class="hidden-xs" translate>Out of Sync</span><span class="visible-xs">&#9724;</span></span>
                </div>
                <div class="panel-title-text">
                  <span tooltip data-original-title="{{folder.label.length != 0 ? folder.id : ''}}">{{folder.label.length != 0 ? folder.label : folder.id}}</span>
                </div>
              </h4>
            </button>
            <div id="folder-{{$index}}" class="panel-collapse collapse">
              <div class="panel-body">
                <table class="table table-condensed table-striped">
                  <tbody>
                    <tr ng-show="folder.label != undefined && folder.label.length > 0">
                      <th><span class="fa fa-fw fa-folder-open"></span>&nbsp;<span translate>Folder ID</span></th>
                      <td class="text-right no-overflow-ellipse">{{folder.id}}</td>
                    </tr>
                    <tr>
                      <th><span class="fa fa-fw fa-folder-open"></span>&nbsp;<span translate>Folder Path</span></th>
                      <td class="text-right">
                        <span tooltip data-original-title="{{folder.path}}">{{folder.path}}</span>
                      </td>
                    </tr>
                    <tr ng-if="!folder.paused && (model[folder.id].invalid || model[folder.id].error)">
                      <th><span class="fa fa-fw fa-exclamation-triangle"></span>&nbsp;<span translate>Error</span></th>
                      <td class="text-right">{{model[folder.id].invalid || model[folder.id].error}}</td>
                    </tr>
                    <tr ng-if="!folder.paused">
                      <th><span class="fa fa-fw fa-globe"></span>&nbsp;<span translate>Global State</span></th>
                      <td class="text-right">
                        <span tooltip data-original-title="{{model[folder.id].globalFiles | alwaysNumber}} {{'files' | translate}}, {{model[folder.id].globalDirectories | alwaysNumber}} {{'directories' | translate}}, ~{{model[folder.id].globalBytes | binary}}B">
                          <span class="fa fa-files-o"></span>&nbsp;{{model[folder.id].globalFiles | alwaysNumber}}&ensp;
                          <span class="fa fa-folder-o"></span>&nbsp;{{model[folder.id].globalDirectories | alwaysNumber}}&ensp;
                          <span class="fa fa-hdd-o"></span>&nbsp;~{{model[folder.id].globalBytes | binary}}B
                        </span>
                      </td>
                    </tr>
                    <tr ng-if="!folder.paused">
                      <th><span class="fa fa-fw fa-home"></span>&nbsp;<span translate>Local State</span></th>
                      <td class="text-right">
                        <span tooltip data-original-title="{{model[folder.id].localFiles | alwaysNumber}} {{'files' | translate}}, {{model[folder.id].localDirectories | alwaysNumber}} {{'directories' | translate}}, ~{{model[folder.id].localBytes | binary}}B">
                          <span class="fa fa-files-o"></span>&nbsp;{{model[folder.id].localFiles | alwaysNumber}}&ensp;
                          <span class="fa fa-folder-o"></span>&nbsp;{{model[folder.id].localDirectories | alwaysNumber}}&ensp;
                          <span class="fa fa-hdd-o"></span>&nbsp;~{{model[folder.id].localBytes | binary}}B
                          <span ng-if="model[folder.id].ignorePatterns"><br/><i><small translate class="text-muted">Reduced by ignore patterns</small></i></span>
                        </span>
                      </td>
                    </tr>
                    <tr ng-if="neededItems(folder.id) > 0">
                      <th><span class="fa fa-fw fa-cloud-download"></span>&nbsp;<span translate>Out of Sync Items</span></th>
                      <td class="text-right">
                        <a href="" ng-click="showNeed(folder.id)">{{neededItems(folder.id) | alwaysNumber}} <span translate>items</span>, ~{{model[folder.id].needBytes | binary}}B</a>
                      </td>
                    </tr>
                    <tr ng-if="folderStatus(folder) === 'scanning' && scanRate(folder.id) > 0">
                      <th><span class="fa fa-fw fa-hourglass-2"></span>&nbsp;<span translate>Scan Time Remaining</span></th>
                      <td class="text-right">
                        <span tooltip data-original-title="{{scanRate(folder.id) | binary}}B/s">~ {{scanRemaining(folder.id)}}</span>
                      </td>
                    </tr>
                    <tr ng-if="hasFailedFiles(folder.id)">
                      <th><span class="fa fa-fw fa-exclamation-circle"></span>&nbsp;<span translate>Failed Items</span></th>
                      <!-- Show the number of failed items as a link to bring up the list. -->
                      <td class="text-right">
                        <a href="" ng-click="showFailed(folder.id)">{{failed[folder.id].length | alwaysNumber}}&nbsp;<span translate>items</span></a>
                      </td>
                    </tr>
                    <tr ng-if="folder.type != 'readwrite'">
                      <th><span class="fa fa-fw fa-lock"></span>&nbsp;<span translate>Folder Type</span></th>
                      <td class="text-right">
                        <span ng-if="folder.type == 'readonly'" translate>Send Only</span>
                        <span ng-if="folder.type != 'readonly'">{{ folder.type.charAt(0).toUpperCase() + folder.type.slice(1) }}</span>
                      </td>
                    </tr>
                    <tr ng-if="folder.ignorePerms">
                      <th><span class="fa fa-fw fa-minus-square-o"></span>&nbsp;<span translate>Ignore Permissions</span></th>
                      <td class="text-right">
                        <span translate>Yes</span>
                      </td>
                    </tr>
                    <tr ng-if="folder.rescanIntervalS != 60">
                      <th><span class="fa fa-fw fa-refresh"></span>&nbsp;<span translate>Rescan Interval</span></th>
                      <td class="text-right">{{folder.rescanIntervalS}} s</td>
                    </tr>
                    <tr ng-if="folder.order != 'random'">
                      <th><span class="fa fa-fw fa-sort"></span>&nbsp;<span translate>File Pull Order</span></th>
                      <td class="text-right" ng-switch="folder.order">
                        <span ng-switch-when="random" translate>Random</span>
                        <span ng-switch-when="alphabetic" translate>Alphabetic</span>
                        <span ng-switch-when="smallestFirst" translate>Smallest First</span>
                        <span ng-switch-when="largestFirst" translate>Largest First</span>
                        <span ng-switch-when="oldestFirst" translate>Oldest First</span>
                        <span ng-switch-when="newestFirst" translate>Newest First</span>
                      </td>
                    </tr>
                    <tr ng-if="folder.versioning.type">
                      <th><span class="fa fa-fw fa-files-o"></span>&nbsp;<span translate>File Versioning</span></th>
                      <td class="text-right" ng-switch="folder.versioning.type">
                        <span ng-switch-when="trashcan" translate>Trash Can File Versioning</span>
                        <span ng-switch-when="staggered" translate>Staggered File Versioning</span>
                        <span ng-switch-when="simple" translate>Simple File Versioning</span>
                        <span ng-switch-when="external" translate>External File Versioning</span>
                      </td>
                    </tr>
                    <tr>
                      <th><span class="fa fa-fw fa-share-alt"></span>&nbsp;<span translate>Shared With</span></th>
                      <td class="text-right">{{sharesFolder(folder)}}</td>
                    </tr>
                    <tr>
                      <th><span class="fa fa-fw fa-clock-o"></span>&nbsp;<span translate>Last Scan</span></th>
                      <td translate ng-if="folderStats[folder.id].lastScanDays >= 365" class="text-right">Never</td>
                      <td ng-if="folderStats[folder.id].lastScanDays < 365" class="text-right">
                        <span>{{folderStats[folder.id].lastScan | date:'yyyy-MM-dd HH:mm:ss'}}</span>
                      </td>
                    </tr>
                    <tr ng-if="folder.type != 'readonly' && folderStats[folder.id].lastFile && folderStats[folder.id].lastFile.filename">
                      <th><span class="fa fa-fw fa-exchange"></span>&nbsp;<span translate>Latest Change</span></th>
                      <td class="text-right">
                        <span tooltip data-original-title="{{folderStats[folder.id].lastFile.filename}} @ {{folderStats[folder.id].lastFile.at | date:'yyyy-MM-dd HH:mm:ss'}}">
                          <span translate ng-if="!folderStats[folder.id].lastFile.deleted">Updated</span>
                          <span translate ng-if="folderStats[folder.id].lastFile.deleted">Deleted</span>
                          {{folderStats[folder.id].lastFile.filename | basename}}
                        </span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="panel-footer">
                <button type="button" class="btn btn-sm btn-danger pull-left" ng-click="override(folder.id)" ng-if="folderStatus(folder) == 'outofsync' && folder.type == 'readonly'">
                  <span class="fa fa-arrow-circle-up"></span>&nbsp;<span translate>Override Changes</span>
                </button>
                <span class="pull-right">
                  <button ng-if="!folder.paused" type="button" class="btn btn-sm btn-default" ng-click="setFolderPause(folder.id, true)">
                    <span class="fa fa-pause"></span>&nbsp;<span translate>Pause</span>
                  </button>
                  <button ng-if="folder.paused" type="button" class="btn btn-sm btn-default" ng-click="setFolderPause(folder.id, false)">
                    <span class="fa fa-play"></span>&nbsp;<span translate>Resume</span>
                  </button>
                  <button type="button" class="btn btn-sm btn-default" ng-click="rescanFolder(folder.id)" ng-show="['idle', 'stopped', 'unshared'].indexOf(folderStatus(folder)) > -1">
                    <span class="fa fa-refresh"></span>&nbsp;<span translate>Rescan</span>
                  </button>
                  <button type="button" class="btn btn-sm btn-default" ng-click="editFolder(folder)">
                    <span class="fa fa-pencil"></span>&nbsp;<span translate>Edit</span>
                  </button>
                </span>
                <div class="clearfix"></div>
              </div>
            </div>
          </div>
        </div>
        <span class="pull-right">
          <button type="button" class="btn btn-sm btn-default" ng-click="rescanAllFolders()">
            <span class="fa fa-refresh"></span>&nbsp;<span translate>Rescan All</span>
          </button>
          <button type="button" class="btn btn-sm btn-default" ng-click="addFolder()">
            <span class="fa fa-plus"></span>&nbsp;<span translate>Add Folder</span>
          </button>
        </span>
        <div class="clearfix"></div>
        <hr class="visible-sm"/>
      </div>

      <!-- Device list (top right) -->

      <!-- This device -->

      <div class="col-sm-6" aria-label="{{'Devices' | translate}}" role="region">
        <h3 translate>This Device</h3>
        <div class="panel panel-default" ng-repeat="deviceCfg in [thisDevice()]">
          <button class="btn panel-heading" data-toggle="collapse" data-target="#device-this" aria-expanded="true">
            <h4 class="panel-title">
              <identicon class="panel-icon" data-value="deviceCfg.deviceID"></identicon>
              <div class="panel-title-text">{{deviceName(deviceCfg)}}</div>
            </h4>
          </button>
          <div id="device-this" class="panel-collapse collapse in">
            <div class="panel-body">
              <table class="table table-condensed table-striped">
                <tbody>
                  <tr>
                    <th><span class="fa fa-fw fa-cloud-download"></span>&nbsp;<span translate>Download Rate</span></th>
                    <td class="text-right">{{connectionsTotal.inbps | binary}}B/s ({{connectionsTotal.inBytesTotal | binary}}B)</td>
                  </tr>
                  <tr>
                    <th><span class="fa fa-fw fa-cloud-upload"></span>&nbsp;<span translate>Upload Rate</span></th>
                    <td class="text-right">{{connectionsTotal.outbps | binary}}B/s ({{connectionsTotal.outBytesTotal | binary}}B)</td>
                  </tr>
                  <tr>
                    <th><span class="fa fa-fw fa-home"></span>&nbsp;<span translate>Local State (Total)</span></th>
                    <td class="text-right">{{localStateTotal.files | alwaysNumber}} <span translate>items</span>, ~{{localStateTotal.bytes | binary}}B</td>
                  </tr>
                  <tr>
                    <th><span class="fa fa-fw fa-th"></span>&nbsp;<span translate>RAM Utilization</span></th>
                    <td class="text-right">{{system.sys | binary}}B</td>
                  </tr>
                  <tr>
                    <th><span class="fa fa-fw fa-tachometer"></span>&nbsp;<span translate>CPU Utilization</span></th>
                    <td class="text-right">{{system.cpuPercent | alwaysNumber | natural:1}}%</td>
                  </tr>
                  <tr>
                    <th><span class="fa fa-fw fa-sitemap"></span>&nbsp;<span translate>Listeners</span></th>
                    <td class="text-right">
                      <span ng-if="listenersFailed.length == 0" class="data text-success">
                        <span>{{listenersTotal}}/{{listenersTotal}}</span>
                      </span>
                      <span ng-if="listenersFailed.length != 0" class="data" ng-class="{'text-danger': listenersFailed.length == listenersTotal}">
                        <span popover data-trigger="hover" data-placement="bottom" data-html="true" data-content="{{listenersFailed.join('<br>\n')}}">
                          {{listenersTotal-listenersFailed.length}}/{{listenersTotal}}
                        </span>
                      </span>
                    </td>
                  </tr>
                  <tr ng-if="system.discoveryEnabled">
                    <th><span class="fa fa-fw fa-map-signs"></span>&nbsp;<span translate>Discovery</span></th>
                    <td class="text-right">
                      <span ng-if="discoveryFailed.length == 0" class="data text-success">
                        <span>{{discoveryTotal}}/{{discoveryTotal}}</span>
                      </span>
                      <span ng-if="discoveryFailed.length != 0" class="data" ng-class="{'text-danger': discoveryFailed.length == discoveryTotal}">
                        <span popover data-trigger="hover" data-placement="bottom" data-html="true" data-content="{{discoveryFailed.join('<br>\n')}}">
                          {{discoveryTotal-discoveryFailed.length}}/{{discoveryTotal}}
                        </span>
                      </span>
                    </td>
                  </tr>
                  <tr>
                    <th><span class="fa fa-fw fa-clock-o"></span>&nbsp;<span translate>Uptime</span></th>
                    <td class="text-right">{{system.uptime | duration:"m"}}</td>
                  </tr>
                  <tr>
                    <th><span class="fa fa-fw fa-tag"></span>&nbsp;<span translate>Version</span></th>
                    <td class="text-right">
                      <span tooltip data-original-title="{{versionString()}}">{{versionString()}}</span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Remote devices -->
        <h3 translate>Remote Devices</h3>
        <div class="panel-group" id="devices">
          <div class="panel panel-default" ng-repeat="deviceCfg in otherDevices()">
            <button class="btn panel-heading" data-toggle="collapse" data-parent="#devices" data-target="#device-{{$index}}" aria-expanded="false">
              <div class="panel-progress" ng-show="deviceStatus(deviceCfg) == 'syncing'" ng-attr-style="width: {{completion[deviceCfg.deviceID]._total | number:0}}%"></div>
              <h4 class="panel-title">
                <identicon class="panel-icon" data-value="deviceCfg.deviceID"></identicon>
                <span ng-switch="deviceStatus(deviceCfg)" class="pull-right text-{{deviceClass(deviceCfg)}}">
                  <span ng-switch-when="insync"><span class="hidden-xs" translate>Up to Date</span><span class="visible-xs">&#9724;</span></span>
                  <span ng-switch-when="syncing">
                    <span class="hidden-xs" translate>Syncing</span> ({{completion[deviceCfg.deviceID]._total | number:0}}%)
                  </span>
                  <span ng-switch-when="paused"><span class="hidden-xs" translate>Paused</span><span class="visible-xs">&#9724;</span></span>
                  <span ng-switch-when="disconnected"><span class="hidden-xs" translate>Disconnected</span><span class="visible-xs">&#9724;</span></span>
                  <span ng-switch-when="unused"><span class="hidden-xs" translate>Unused</span><span class="visible-xs">&#9724;</span></span>
                </span>
                <span>{{deviceName(deviceCfg)}}</span>
              </h4>
            </button>
            <div id="device-{{$index}}" class="panel-collapse collapse">
              <div class="panel-body">
                <table class="table table-condensed table-striped">
                  <tbody>
                    <tr ng-if="connections[deviceCfg.deviceID].connected">
                      <th><span class="fa fa-fw fa-cloud-download"></span>&nbsp;<span translate>Download Rate</span></th>
                      <td class="text-right">{{connections[deviceCfg.deviceID].inbps | binary}}B/s ({{connections[deviceCfg.deviceID].inBytesTotal | binary}}B)</td>
                    </tr>
                    <tr ng-if="connections[deviceCfg.deviceID].connected">
                      <th><span class="fa fa-fw fa-cloud-upload"></span>&nbsp;<span translate>Upload Rate</span></th>
                      <td class="text-right">{{connections[deviceCfg.deviceID].outbps | binary}}B/s ({{connections[deviceCfg.deviceID].outBytesTotal | binary}}B)</td>
                    </tr>
                    <tr>
                      <th><span class="fa fa-fw fa-link"></span>&nbsp<span translate>Address</span></th>
                      <td ng-if="connections[deviceCfg.deviceID].connected" class="text-right">
                        <span tooltip data-original-title="{{ connections[deviceCfg.deviceID].type.indexOf('Relay') > -1 ? '' : connections[deviceCfg.deviceID].type }}">
                          {{deviceAddr(deviceCfg)}}
                        </span>
                      </td>
                      <td ng-if="!connections[deviceCfg.deviceID].connected" class="text-right">
                        <span ng-repeat="addr in deviceCfg.addresses"><span tooltip data-original-title="{{'Configured' | translate}}">{{addr}}</span><br></span>
                        <span ng-repeat="addr in discoveryCache[deviceCfg.deviceID].addresses"><span tooltip data-original-title="{{'Discovered' | translate}}">{{addr}}</span><br></span>
                      </td>
                    </tr>
                    <tr ng-if="connections[deviceCfg.deviceID].connected && connections[deviceCfg.deviceID].type.indexOf('Relay') > -1" tooltip data-original-title="Connections via relays might be rate limited by the relay">
                      <th><span class="fa fa-fw fa-warning text-danger"></span>&nbsp;<span translate>Connection Type</span></th>
                      <td class="text-right">{{connections[deviceCfg.deviceID].type}}</td>
                    </tr>
                    <tr ng-if="deviceCfg.compression != 'metadata'">
                      <th><span class="fa fa-fw fa-compress"></span>&nbsp;<span translate>Compression</span></th>
                      <td class="text-right">
                        <span ng-if="deviceCfg.compression == 'always'" translate>All Data</span>
                        <span ng-if="deviceCfg.compression == 'never'" translate>Off</span>
                      </td>
                    </tr>
                    <tr ng-if="deviceCfg.introducer">
                      <th><span class="fa fa-fw fa-thumbs-o-up"></span>&nbsp;<span translate>Introducer</span></th>
                      <td translate class="text-right">Yes</td>
                    </tr>
                    <tr ng-if="deviceCfg.introducedBy">
                      <th><span class="fa fa-fw fa-meh-o"></span>&nbsp;<span translate>Introduced By</span></th>
                      <td class="text-right">{{ deviceName(findDevice(deviceCfg.introducedBy)) || deviceCfg.introducedBy.substring(0, 5) }}</td>
                    </tr>
                    <tr ng-if="connections[deviceCfg.deviceID].clientVersion">
                      <th><span class="fa fa-fw fa-tag"></span>&nbsp;<span translate>Version</span></th>
                      <td class="text-right">{{connections[deviceCfg.deviceID].clientVersion}}</td>
                    </tr>
                    <tr ng-if="!connections[deviceCfg.deviceID].connected">
                      <th><span class="fa fa-fw fa-eye"></span>&nbsp;<span translate>Last seen</span></th>
                      <td translate ng-if="!deviceStats[deviceCfg.deviceID].lastSeenDays || deviceStats[deviceCfg.deviceID].lastSeenDays >= 365" class="text-right">Never</td>
                      <td ng-if="deviceStats[deviceCfg.deviceID].lastSeenDays < 365" class="text-right">{{deviceStats[deviceCfg.deviceID].lastSeen | date:"yyyy-MM-dd HH:mm:ss"}}</td>
                    </tr>
                    <tr ng-if="deviceFolders(deviceCfg).length > 0">
                      <th><span class="fa fa-fw fa-folder"></span>&nbsp;<span translate>Folders</span></th>
                      <td class="text-right">{{deviceFolders(deviceCfg).map(folderLabel).join(", ")}}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="panel-footer">
                <span class="pull-right">
                  <button ng-if="!deviceCfg.paused" type="button" class="btn btn-sm btn-default" ng-click="setDevicePause(deviceCfg.deviceID, true)">
                    <span class="fa fa-pause"></span>&nbsp;<span translate>Pause</span>
                  </button>
                  <button ng-if="deviceCfg.paused" type="button" class="btn btn-sm btn-default" ng-click="setDevicePause(deviceCfg.deviceID, false)">
                    <span class="fa fa-play"></span>&nbsp;<span translate>Resume</span>
                  </button>
                  <button type="button" class="btn btn-sm btn-default" ng-click="editDevice(deviceCfg)">
                    <span class="fa fa-pencil"></span>&nbsp;<span translate>Edit</span>
                  </button>
                </span>
                <div class="clearfix"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <span class="pull-right">
            <button type="button" class="btn btn-sm btn-default" ng-click="globalChanges()">
              <span class="fa fa-fw fa-history"></span>&nbsp;<span translate>Global Changes</span>
            </button>
            <button type="button" class="btn btn-sm btn-default" ng-click="addDevice()">
              <span class="fa fa-plus"></span>&nbsp;<span translate>Add Remote Device</span>
            </button>
          </span>
          <div class="clearfix"></div>
        </div>
      </div>
    </div> <!-- /row -->
	
	</div> <!-- end original wrapper-->

  </div> <!-- /container -->

  <!-- Bottom bar -->

  <nav class="navbar navbar-default navbar-fixed-bottom">
    <div class="container">
      <ul class="nav navbar-nav">
        <li><a class="navbar-link" href="https://syncthing.net/" target="_blank"><span class="fa fa-home"></span>&nbsp;<span translate>Home page</span></a></li>
        <li><a class="navbar-link" href="https://docs.syncthing.net/" target="_blank"><span class="fa fa-book"></span>&nbsp;<span translate>Documentation</span></a></li>
        <li><a class="navbar-link" href="https://forum.syncthing.net" target="_blank"><span class="fa fa-question-circle"></span>&nbsp;<span translate>Support</span></a></li>
        <li><a class="navbar-link" href="https://data.syncthing.net/" target="_blank"><span class="fa fa-bar-chart"></span>&nbsp;<span translate>Statistics</span></a></li>
        <li><a class="navbar-link" href="https://github.com/syncthing/syncthing/releases" target="_blank"><span class="fa fa-file-text-o"></span>&nbsp;<span translate>Changelog</span></a></li>
        <li><a class="navbar-link" href="https://github.com/syncthing/syncthing/issues" target="_blank"><span class="fa fa-bug"></span>&nbsp;<span translate>Bugs</span></a></li>
        <li><a class="navbar-link" href="https://github.com/syncthing/syncthing" target="_blank"><span class="fa fa-wrench"></span>&nbsp;<span translate>Source Code</span></a></li>
        <li><a class="navbar-link" href="https://twitter.com/syncthing" target="_blank"><span class="fa fa-twitter"></span>&nbsp;Twitter</a></li>
      </ul>
    </div>
  </nav>

  <ng-include src="'syncthing/core/networkErrorDialogView.html'"></ng-include>
  <ng-include src="'syncthing/core/httpErrorDialogView.html'"></ng-include>
  <ng-include src="'syncthing/core/restartingDialogView.html'"></ng-include>
  <ng-include src="'syncthing/core/upgradingDialogView.html'"></ng-include>
  <ng-include src="'syncthing/core/shutdownDialogView.html'"></ng-include>
  <ng-include src="'syncthing/device/idqrModalView.html'"></ng-include>
  <ng-include src="'syncthing/device/editDeviceModalView.html'"></ng-include>
  <ng-include src="'syncthing/device/globalChangesModalView.html'"></ng-include>
  <ng-include src="'syncthing/folder/editFolderModalView.html'"></ng-include>
  <ng-include src="'syncthing/folder/editIgnoresModalView.html'"></ng-include>
  <ng-include src="'syncthing/settings/settingsModalView.html'"></ng-include>
  <ng-include src="'syncthing/settings/advancedSettingsModalView.html'"></ng-include>
  <ng-include src="'syncthing/usagereport/usageReportModalView.html'"></ng-include>
  <ng-include src="'syncthing/usagereport/usageReportPreviewModalView.html'"></ng-include>
  <ng-include src="'syncthing/transfer/neededFilesModalView.html'"></ng-include>
  <ng-include src="'syncthing/transfer/failedFilesModalView.html'"></ng-include>
  <ng-include src="'syncthing/core/majorUpgradeModalView.html'"></ng-include>
  <ng-include src="'syncthing/core/aboutModalView.html'"></ng-include>

  <!-- vendor scripts -->
  <script src="vendor/jquery/jquery-2.2.2.js"></script>
  <script src="vendor/angular/angular.js"></script>
  <script src="vendor/angular/angular-sanitize.js"></script>
  <script src="vendor/angular/angular-translate.js"></script>
  <script src="vendor/angular/angular-translate-loader-static-files.js"></script>
  <script src="vendor/angular/angular-dirPagination.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.js"></script>
  <!-- / vendor scripts -->

  <!-- gui application code -->
  <script src="syncthing/core/module.js"></script>
  <script src="syncthing/core/alwaysNumberFilter.js"></script>
  <script src="syncthing/core/basenameFilter.js"></script>
  <script src="syncthing/core/binaryFilter.js"></script>
  <script src="syncthing/core/durationFilter.js"></script>
  <script src="syncthing/core/eventService.js"></script>
  <script src="syncthing/core/identiconDirective.js"></script>
  <script src="syncthing/core/languageSelectDirective.js"></script>
  <script src="syncthing/core/lastErrorComponentFilter.js"></script>
  <script src="syncthing/core/localeService.js"></script>
  <script src="syncthing/core/modalDirective.js"></script>
  <script src="syncthing/core/naturalFilter.js"></script>
  <script src="syncthing/core/notificationDirective.js"></script>
  <script src="syncthing/core/pathIsSubDirDirective.js"></script>
  <script src="syncthing/core/popoverDirective.js"></script>
  <script src="syncthing/core/selectOnClickDirective.js"></script>
  <script src="syncthing/core/syncthingController.js"></script>
  <script src="syncthing/core/tooltipDirective.js"></script>
  <script src="syncthing/core/uniqueFolderDirective.js"></script>
  <script src="syncthing/core/validDeviceidDirective.js"></script>
  <script src="assets/lang/valid-langs.js"></script>
  <script src="assets/lang/prettyprint.js"></script>
  <script src="meta.js"></script>
  <script src="syncthing/app.js"></script>
  <!-- / gui application code -->
  
</body>
</html>
